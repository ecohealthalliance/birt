template(name='mainSidebar')
  #sidebar.sidebar(class="{{#unless sideBarOpen}} off-canvas {{/unless}}")
    // Nav tabs
    .sidebar--tab-container
      ul.sidebar--tabs.list-unstyled
        li.sidebar--collapse.large.hint--right.hint--rounded(
          class="{{#unless sideBarOpen}} off-canvas {{/unless}}"
          role='tab'
          data-hint="{{#if sideBarOpen}}Close {{else}} Open {{/if}} Menu")
          i.fa.fa-chevron-circle-left

        li.pane-control.hint--right.hint--rounded(
          class="{{#if tabActive 1}} active {{/if}}"
          role='tab'
          data-tab="1"
          data-hint="Search")
          i.fa.fa-search

        li.pane-control.hint--right.hint--rounded(
          class="{{#if tabActive 4}} active {{/if}}"
          data-tab="4"
          data-hint="Map Options")
          i.fa.fa-map-o

        //- li.help-toggle.large.push-to-btm
        //-   +helpLink helpTemplate='userGuide' showGuide=true classNames='help-link--sidebar'

      .zoom-control
        button.zoom-control--in.fa.fa-plus.btn.btn-sm
        button.zoom-control--out.fa.fa-minus.btn.btn-sm

    // Tab panes
    .sidebar--content
      .tokenized.main
        i#searchIcon.fa.fa-search
        input#searchBar.input-sm.advanced-filter-status(name='searchBar', placeholder='{{_ "gritsSearch.tokenfield-placeholder"}}')

      .filter-wrapper
        .filter-row
        ul.nav.nav-tabs
          li.historical-view(role='presentation', class='{{#if historicalView}} active {{/if}}')
            a(href='#') Historical View
          li.seasonal-view(role='presentation', class='{{#unless historicalView}} active {{/unless}}')
            a(href='#') Seasonal View

        if historicalView
          .filter-row

            .filter-group
              label.filter-label {{_ "gritsSearch.start-label"}}
              #startDate.input-group.date
                input.date-button.form-control.input-sm(type='text', value='{{start}}')
                span.input-group-addon
                  span.glyphicon.glyphicon-calendar

            .filter-group(style='margin-top: 10px;')
              label.filter-label {{_ "gritsSearch.end-label"}}
              #endDate.input-group.date
                input.date-button.form-control.input-sm(type='text', value='{{end}}')
                span.input-group-addon
                  span.glyphicon.glyphicon-calendar

            .filter-group(style='margin-top: 10px; display: none;')
              label.filter-label {{_ "gritsSearch.period-label"}}
              select#period.form-control.input-sm
                each periods
                  if defaultPeriod this
                    option(value='{{value}}', selected='')= displayName
                  else
                    option(value='{{value}}')= displayName

          .filter-row
            if isAnimationRunning
              button#applyFilter.btn.btn-filter.disabled {{_ "gritsSearch.applyFilterButton" }}
                i.fa.fa-spinner.fa-spin
            else
              button#applyFilter.btn.btn-filter {{_ "gritsSearch.applyFilterButton" }}

        else
          .list-group.seasons
            a.list-group-item(href='#', class='{{#if summer}}active{{/if}}') Summer
            a.list-group-item(href='#', class='{{#if autumn}}active{{/if}}') Autumn
            a.list-group-item(href='#', class='{{#if winter}}active{{/if}}') Winter
            a.list-group-item(href='#', class='{{#if spring}}active{{/if}}') Spring

      if historicalView
        .filter-footer
          .status-bar
            .col.col-xs-2.filter-label {{_ "gritsSearch.status-bar-label" }}
            .col.col-xs-5.text-center
              span.status-bar-text {{_ "gritsSearch.loaded-records" }}
                span.status-bar-val= loadedRecords
            .col.col-xs-5.text-center
              span.status-bar-text {{_ "gritsSearch.total-records" }}
                span.status-bar-val= totalRecords



      //-
      //- h1.logo BIRT
      //- #mode-toggle.btn-group(data-toggle='buttons')
      //-   label.btn.btn-mode.active
      //-     input(
      //-       type='radio'
      //-       name='mode'
      //-       data-mode='{{MODE_EXPLORE}}'
      //-       autocomplete='off'
      //-       checked='')
      //-     |  {{_ "mode.explore" }}
      //-   label.btn.btn-mode
      //-     input(
      //-       type='radio'
      //-       name='mode'
      //-       data-mode='{{MODE_ANALYZE}}'
      //-       autocomplete='off')
      //-     |  {{_ "mode.analyze" }}
      //-
      //- #sidebar-search.sidebar--pane(class="{{#if paneActive 1}} active {{/if}}")
      //- #sidebar-slider.sidebar--pane(class="{{#if paneActive 3}} active {{/if}}")
      //- #sidebar-layer.sidebar--pane(class="{{#if paneActive 4}} active {{/if}}")
