$sidebar-main-content-width = $sidebar-main-width - $sidebar-main-menu-width
$sidebar-main-content-width-small = $sidebar-main-width-small - $sidebar-main-menu-width-small
$sidebar-border-width = 3px

.sidebar
  position absolute
  left 0
  top 0
  bottom 0
  z-index $sidebar-z-index
  height 100vh
  width $sidebar-main-width
  transition $transition-time $transition-easing
  background-color $content-bg
  +below(3)
    width $sidebar-main-width-small
  &.off-canvas
    transform translate($sidebar-main-content-width * -1, 0)
    li
      &.active
        color $inactive-btn
    +below(3)
      transform translate($sidebar-main-content-width-small * -1, 0)

.sidebar--tab-container
  position absolute
  top 0
  bottom 0
  right 0
  width $sidebar-main-menu-width
  background-color $tabs-bg
  display flex
  align-items flex-start
  justify-content center
  border-left $sidebar-border-width solid darken($tabs-bg, 10%)
  +below(3)
    width $sidebar-main-menu-width-small

if $sidebar-main-menu-width == 0
  .sidebar
    border-right $sidebar-border-width solid darken($tabs-bg, 10%)
  .sidebar--tab-container
    display none

.sidebar--tabs
  display flex
  min-height 100%
  flex-direction column
  border 0
  > li
    flex 1 1 0
    flex-grow 0
    margin-bottom 20px
    color $inactive-btn
    font-size $tab-font-size
    transition all .2s
    cursor pointer
    text-align center
    +below(3)
      font-size $tab-font-size - .4
    &:first-of-type
      margin-bottom 60px
    &.large
      font-size $tab-font-size + .4
      +below(3)
        font-size $tab-font-size
    &.push-to-btm
      align-self flex-end
    &.push-to-top
      align-self flex-start
    &:hover
      color alpha(@color, 100%)
    &.active
      color alpha(@color, 100%)

.sidebar--content
  height 100vh
  margin-right $sidebar-main-menu-width
  +below(3)
    margin-right $sidebar-main-menu-width-small

.sidebar--pane
  display none
  &.active
    display block
  h2
    background $tabs-bg
    margin 0
    padding 1em 25px
    font-size 1.1em
    font-weight normal
    text-transform uppercase
    letter-spacing .05em
    color white
    &.centered
      text-align center

.sidebar--collapse
  margin-top 20px
  &.off-canvas
    i
      transition $transition-time
      transform rotate(180deg)

.filter-footer
  position absolute
  bottom 0
  z-index 100
  width 'calc(100% - %s)' % $sidebar-main-menu-width
  +below(3)
    width 'calc(100% - %s)' % $sidebar-main-menu-width-small

.help-toggle
  position absolute
  bottom 0
  left 50%
  transform translate(-50%, 0)

.sidebar-footer
  background alpha($l-gray, 95%)
  border-top 3px solid $border-gray

.zoom-control
  position absolute
  bottom $play-controls-height + 10px
  left $sidebar-main-menu-width + 10px
  +below(3)
    bottom $play-controls-height + 5px
    left $sidebar-main-menu-width

.zoom-control--in
.zoom-control--out
  color $inactive-btn
  background $tabs-bg
  margin-bottom 5px
  height 35px
  width 35px
  display flex
  align-items center
  justify-content center
  +below(3)
    height 25px
    width 25px
    font-size .8em
  &:hover
    color $active-btn
