template(name='gritsSearch')
  h1.logo BIRT

  .searchBar
    .tokenized.main
      i#searchIcon.fa.fa-search
      input#searchBar.input-sm.advanced-filter-status(name='searchBar', placeholder='{{_ "gritsSearch.tokenfield-placeholder"}}')

  .filter-wrapper
    .filter-row
    ul.nav.nav-tabs
      li.historical-view(role='presentation', class='{{#if historicalView}} active {{/if}}')
        a(href='#') Historical View
      li.seasonal-view(role='presentation', class='{{#unless historicalView}} active {{/unless}}')
        a(href='#') Seasonal View

    if historicalView
      .filter-group
        label.filter-label {{_ "gritsSearch.start-label"}}
        #startDate.input-group.date
          input.date-button.form-control.input-sm(type='text', value='{{start}}')
          span.input-group-addon
            span.glyphicon.glyphicon-calendar

      .filter-group(style='margin-top: 10px;')
        label.filter-label {{_ "gritsSearch.end-label"}}
        #endDate.input-group.date
          input.date-button.form-control.input-sm(type='text', value='{{end}}')
          span.input-group-addon
            span.glyphicon.glyphicon-calendar

      .filter-group(style='margin-top: 10px; display: none;')
        label.filter-label {{_ "gritsSearch.period-label"}}
        select#period.form-control.input-sm
          each periods
            if defaultPeriod this
              option(value='{{value}}', selected='')= displayName
            else
              option(value='{{value}}')= displayName

      .filter-row
        if isAnimationRunning
          button#applyFilter.btn.btn-filter.disabled {{_ "gritsSearch.applyFilterButton" }}
            i.fa.fa-spinner.fa-spin
        else
          button#applyFilter.btn.btn-filter {{_ "gritsSearch.applyFilterButton" }}

    else
      .list-group.seasons
        a.list-group-item(href='#', class='{{#if summer}}active{{/if}}') Summer
        a.list-group-item(href='#', class='{{#if autumn}}active{{/if}}') Autumn
        a.list-group-item(href='#', class='{{#if winter}}active{{/if}}') Winter
        a.list-group-item(href='#', class='{{#if spring}}active{{/if}}') Spring

  if historicalView
    .filter-footer
      .status-bar
        .col.col-xs-2.filter-label {{_ "gritsSearch.status-bar-label" }}
        .col.col-xs-5.text-center
          span.status-bar-text {{_ "gritsSearch.loaded-records" }}
            span.status-bar-val= loadedRecords
        .col.col-xs-5.text-center
          span.status-bar-text {{_ "gritsSearch.total-records" }}
            span.status-bar-val= totalRecords
