template(name='gritsDataTable')
  ul.nav.nav-tabs.table-tabs
    li.active
      a#pathTab(href='#paths' data-toggle='tab') {{_ "dataTable.explore.title"}}
  .tab-content.dataTableContent
    #paths.tab-pane.active
      .pathsTableContainer
        table#exploreTable.table.dataTable
          thead
            tr
              th {{_ "dataTable.explore.col1-heading"}}
              th {{_ "dataTable.explore.col2-heading"}}
          tbody
            with groupedMigrations
              each groupedMigrations
                tr.pathTableRow(data-cat=this._id)
                  td {{format date}}
                  td {{groupedMigrationsCount this}}
                tr.pathData(id=this._id)
                  td(colspan="2")
                    each data
                      table#detailTable
                        tbody
                          tr
                            td
                              p {{format date}} 
                            td 
                              p {{state_province}} 
                            td 
                              p {{currentBird this}}

            else
              tr
                td(colspan='12')
                  span(style='font-style: italic;') No data

  if migrations.count
    .sidebarRightFooter
      .export
        i.fa.fa-cloud-download.downloadIcon
        button.btn.btn-sm.btn-default.exportData(type='button', data-type='json') JSON
        button.btn.btn-sm.btn-default.exportData(type='button', data-type='csv') CSV
        button.btn.btn-sm.btn-default.exportData(type='button', data-type='xml') XML
        button.btn.btn-sm.btn-default.exportData(type='button', data-type='excel') XLSX
